{% extends 'index.html' %}

{% block content %}
<div class="img-gen-page">
    <div class="left">
        <a href="{% url 'home' %}">
            <img src="/static/images/textart-high-resolution-logo-transparent.png" alt="logo" id="logo">
        </a>


        <form method="post" class="flex-col" id="imageForm">
            {% csrf_token %}
            <div class="prompt-input">
                <textarea name="user_prompt" id="" placeholder="Describe what you want"></textarea>
                <div class="icon"><img src="/static/images/mdi_stars.svg" alt=""></div>
                <div class="line"></div>
                <div class="chatgpt">
                    <p>Improvise your prompt using ChatGPT</p>
                    <img src="/static/images/ep_arrow-down-bold (1).svg" alt="">
                </div>
            </div>

            <button class="btn" type="submit">
                <img src="/static/images/carbon_magic-wand-filled.svg" alt="">
                <p>Generate</p>
            </button>

            <div class="resolution">
                <p>1x1</p>
                <img src="/static/images/ep_arrow-down-bold (1).svg" alt="">
            </div>
        </form>

        <div class="images">
            <h2>Images Generated by Our AI</h2>
            <div class="img-grid">
                <img src="/static/images/beautiful-medieval-fantasy-landscape.jpg" alt="" class="img">
                <img src="/static/images/futuristic-portrait-young-girl-with-high-tech.jpg" alt="" class="img">
                <img src="/static/images/futuristic-representation-dragon-creature.jpg" alt="" class="img">
                <img src="/static/images/cat-with-bell-its-neck-collar-that-says-cat-it.jpg" alt="" class="img">
                <img src="/static/images/autism-day-awareness-with-colourful-portrait.jpg" alt="" class="img">
                <img src="/static/images/abstract-portrait-with-light-effects.jpg" alt="" class="img">
            </div>
        </div>

    </div>

    <div class="center">

        <div id="loading" style="margin: auto;">
            <img src="/static/images/loading.gif" alt="Loading..." style=" width: 160px; object-fit: contain;">
        </div>

        {% if image_base64 %}
        <img src="data:image/png;base64,{{ image_base64 }}" alt="Generated Image" id="previous-gen-image">


        <div id="buttons">

            <a href="{% url 'regenerate_image' %}?prompt={{ user_prompt }}" id="regenerateLink">
                <div class="btn">
                    <img src="/static/images/noun-regenerate-3502636 1.svg" alt=""
                        style="max-height: 24px !important; ">
                    <p>Regenerate</p>
                </div>
            </a>

            <a href="{% url 'download_image' %}" download="generated_image.png">
                <div class="btn download">
                    <img src="/static/images/material-symbols_download.svg" alt=""
                        style="max-height: 24px !important; ">
                    <p>Download</p>
                </div>
            </a>

        </div>
        {% endif %}
        {% if error %}
        <p style="color: red;">{{ error }}</p>
        {% endif %}
    </div>
    <div class="line-ver"></div>
    <div class="right">
        <h2>My Creations</h2>
        <div>
            <img src="/static/images/noun-images-4919305 1.svg" alt="">
            <h2>No record</h2>
        </div>
    </div>
</div>

{% endblock %}